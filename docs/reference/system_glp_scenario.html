<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Design GLP Study For a Scenario — system_glp_scenario • ubiquity</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Design GLP Study For a Scenario — system_glp_scenario"><meta name="description" content="Identifies the top dose required in a GLP tox study in order to match human metrics (Cmax and AUCs) within a specified multiplier.
For a given set of human parameters the human doses required to hit the target Cmin and AUC (both or one) will be identified. The Cmax and AUC associated with the largest of those doses will be determined and the corresponding doses for a tox species (and provided parameters) will be determined for specific tox multipliers.
Optionally, simulations can be be run by specifying doses for either/or the human or tox species. Sample times can also be specified to generate annotated figures and tables to be given to analysts to facilitate assay design.
The system file requires the following components:
- Output for the drug concentration
 - Output for the cumulative AUC
 - Bolus dosing defined in a specific compartment
 - Timescale specified for the system timescale  (e.g. if the timescale is hours then you need &amp;lt;TS&amp;gt; hours = 1.0)"><meta property="og:description" content="Identifies the top dose required in a GLP tox study in order to match human metrics (Cmax and AUCs) within a specified multiplier.
For a given set of human parameters the human doses required to hit the target Cmin and AUC (both or one) will be identified. The Cmax and AUC associated with the largest of those doses will be determined and the corresponding doses for a tox species (and provided parameters) will be determined for specific tox multipliers.
Optionally, simulations can be be run by specifying doses for either/or the human or tox species. Sample times can also be specified to generate annotated figures and tables to be given to analysts to facilitate assay design.
The system file requires the following components:
- Output for the drug concentration
 - Output for the cumulative AUC
 - Bolus dosing defined in a specific compartment
 - Timescale specified for the system timescale  (e.g. if the timescale is hours then you need &amp;lt;TS&amp;gt; hours = 1.0)"><meta property="og:image" content="https://r.ubiquity.tools/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ubiquity</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-chalkboard-teacher"></span> Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting Started</h6></li>
    <li><a class="dropdown-item" href="../articles/Simulation.html">Individual and Population Simulations</a></li>
    <li><a class="dropdown-item" href="../articles/Language.html">ubiquity Modeling Language</a></li>
    <li><a class="dropdown-item" href="../articles/Estimation.html">Naive-Pooled Parameter Estimation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other Analysis Options</h6></li>
    <li><a class="dropdown-item" href="../articles/Deployment.html">Deploying Your Models in a Shiny App</a></li>
    <li><a class="dropdown-item" href="../articles/Titration.html">Trial/Rule-Based Simulations</a></li>
    <li><a class="dropdown-item" href="../articles/NCA.html">Non-Compartmental Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/Reporting.html">Integrated Word and PowerPoint Reporting</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>More Help</h6></li>
    <li><a class="dropdown-item" href="../articles/Howto.html">Howtos</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-screencasts" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fas fa-video"></span> Screencasts</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-screencasts"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Modeling</h6></li>
    <li><a class="external-link dropdown-item" href="https://vimeo.com/382859445">Individual and Population Simulations</a></li>
    <li><a class="external-link dropdown-item" href="https://vimeo.com/382860283">Model Deployment</a></li>
    <li><a class="external-link dropdown-item" href="https://vimeo.com/manage/videos/382829588">Naive-Pooled Parameter Estimation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other Tools</h6></li>
    <li><a class="external-link dropdown-item" href="https://vimeo.com/650643574">Tabula: Extracting Tabular Data from PDFs</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fas fa-hat-wizard"></span> Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fas fa-rss"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/john-harrold/ubiquity/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Design GLP Study For a Scenario</h1>
      <small class="dont-index">Source: <a href="https://github.com/john-harrold/ubiquity/blob/HEAD/R/ubiquity.R" class="external-link"><code>R/ubiquity.R</code></a></small>
      <div class="d-none name"><code>system_glp_scenario.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Identifies the top dose required in a GLP tox study in order to match human metrics (Cmax and AUCs) within a specified multiplier.</p>
<p>For a given set of human parameters the human doses required to hit the target Cmin and AUC (both or one) will be identified. The Cmax and AUC associated with the largest of those doses will be determined and the corresponding doses for a tox species (and provided parameters) will be determined for specific tox multipliers.</p>
<p>Optionally, simulations can be be run by specifying doses for either/or the human or tox species. Sample times can also be specified to generate annotated figures and tables to be given to analysts to facilitate assay design.</p>
<p>The system file requires the following components:</p>
<p>- Output for the drug concentration
 - Output for the cumulative AUC
 - Bolus dosing defined in a specific compartment
 - Timescale specified for the system timescale  (e.g. if the timescale is hours then you need <code>&lt;TS&gt; hours = 1.0</code>)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">system_glp_scenario</span><span class="op">(</span></span>
<span>  <span class="va">cfg</span>,</span>
<span>  output_Conc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_AUC <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  timescale <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  units_Conc <span class="op">=</span> <span class="st">""</span>,</span>
<span>  units_AUC <span class="op">=</span> <span class="st">""</span>,</span>
<span>  study_scenario <span class="op">=</span> <span class="st">"Tox Study"</span>,</span>
<span>  human_sim_times <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  study_name <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  human_parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  human_bolus <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  human_ndose <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  human_dose_interval <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  human_Cmin <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  human_AUC <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  human_sample_interval <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  human_sim_doses <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  human_sim_samples <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tox_species <span class="op">=</span> <span class="st">"Tox"</span>,</span>
<span>  tox_sim_times <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tox_parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tox_bolus <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tox_ndose <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  tox_dose_interval <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  tox_Cmax_multiple <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  tox_AUC_multiple <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  tox_sample_interval <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tox_sim_doses <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tox_sim_samples <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  annotate_plots <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-cfg">cfg<a class="anchor" aria-label="anchor" href="#arg-cfg"></a></dt>
<dd><p>ubiquity system object</p></dd>


<dt id="arg-output-conc">output_Conc<a class="anchor" aria-label="anchor" href="#arg-output-conc"></a></dt>
<dd><p>model output specified with <code>&lt;O&gt;</code> containing the concentration associated with drug exposure.</p></dd>


<dt id="arg-output-auc">output_AUC<a class="anchor" aria-label="anchor" href="#arg-output-auc"></a></dt>
<dd><p>model output specified with <code>&lt;O&gt;</code> containing the cumulative exposure</p></dd>


<dt id="arg-timescale">timescale<a class="anchor" aria-label="anchor" href="#arg-timescale"></a></dt>
<dd><p>system timescale specified with <code>&lt;TS&gt;</code> used for AUC comparisons and plotting</p></dd>


<dt id="arg-units-conc">units_Conc<a class="anchor" aria-label="anchor" href="#arg-units-conc"></a></dt>
<dd><p>units of concentration (<code>''</code>)</p></dd>


<dt id="arg-units-auc">units_AUC<a class="anchor" aria-label="anchor" href="#arg-units-auc"></a></dt>
<dd><p>units of AUC (<code>''</code>)</p></dd>


<dt id="arg-study-scenario">study_scenario<a class="anchor" aria-label="anchor" href="#arg-study-scenario"></a></dt>
<dd><p>string containing a descriptive name for the tox study</p></dd>


<dt id="arg-human-sim-times">human_sim_times<a class="anchor" aria-label="anchor" href="#arg-human-sim-times"></a></dt>
<dd><p>user-specified simulation output times for humans (same timescale as the system)</p></dd>


<dt id="arg-study-name">study_name<a class="anchor" aria-label="anchor" href="#arg-study-name"></a></dt>
<dd><p>name of the study to append the scenario to set with <code>'system_glp_init()'</code> (<code>'default'</code>):
When a report is initialized using <code><a href="system_rpt_read_template.html">system_rpt_read_template</a></code> the report name is 'default' unless otherwise specified. To disable reporting set this to  <code>NULL</code>, and to use a different report specify the name here.</p></dd>


<dt id="arg-human-parameters">human_parameters<a class="anchor" aria-label="anchor" href="#arg-human-parameters"></a></dt>
<dd><p>list containing the human parameters</p></dd>


<dt id="arg-human-bolus">human_bolus<a class="anchor" aria-label="anchor" href="#arg-human-bolus"></a></dt>
<dd><p>string containing the dosing state for human doses (specified with <code>&lt;B:?&gt;</code>)</p></dd>


<dt id="arg-human-ndose">human_ndose<a class="anchor" aria-label="anchor" href="#arg-human-ndose"></a></dt>
<dd><p>number of human doses to simulate</p></dd>


<dt id="arg-human-dose-interval">human_dose_interval<a class="anchor" aria-label="anchor" href="#arg-human-dose-interval"></a></dt>
<dd><p>dosing interval in humans (time units specified with <code>&lt;B:?&gt;</code>)</p></dd>


<dt id="arg-human-cmin">human_Cmin<a class="anchor" aria-label="anchor" href="#arg-human-cmin"></a></dt>
<dd><p>target Cmin in humans (corresponding to output_Conc above)</p></dd>


<dt id="arg-human-auc">human_AUC<a class="anchor" aria-label="anchor" href="#arg-human-auc"></a></dt>
<dd><p>target AUC  in humans (corresponding to output_AUC  above)</p></dd>


<dt id="arg-human-sample-interval">human_sample_interval<a class="anchor" aria-label="anchor" href="#arg-human-sample-interval"></a></dt>
<dd><p>time interval in units specified by timescale above to evaluate the trough concentration and AUC (e.g c(1.99, 4.001) would consider the interval between 2 and 4)</p></dd>


<dt id="arg-human-sim-doses">human_sim_doses<a class="anchor" aria-label="anchor" href="#arg-human-sim-doses"></a></dt>
<dd><p>optional list of doses into <code>human_bolus</code> to simulate (see Details below)</p></dd>


<dt id="arg-human-sim-samples">human_sim_samples<a class="anchor" aria-label="anchor" href="#arg-human-sim-samples"></a></dt>
<dd><p>optional list of sample times in units specified by timescale above to label on plots of simulated doses (the default <code>NULL</code> will disable labels)</p></dd>


<dt id="arg-tox-species">tox_species<a class="anchor" aria-label="anchor" href="#arg-tox-species"></a></dt>
<dd><p>optional name of the tox species (<code>"Tox"</code>)</p></dd>


<dt id="arg-tox-sim-times">tox_sim_times<a class="anchor" aria-label="anchor" href="#arg-tox-sim-times"></a></dt>
<dd><p>user-specified simulation output times for the tox species (same timescale as the system)</p></dd>


<dt id="arg-tox-parameters">tox_parameters<a class="anchor" aria-label="anchor" href="#arg-tox-parameters"></a></dt>
<dd><p>list containing the parameters for the tox species</p></dd>


<dt id="arg-tox-bolus">tox_bolus<a class="anchor" aria-label="anchor" href="#arg-tox-bolus"></a></dt>
<dd><p>string containing the dosing state for tox species doses (specified with <code>&lt;B:?&gt;</code>)</p></dd>


<dt id="arg-tox-ndose">tox_ndose<a class="anchor" aria-label="anchor" href="#arg-tox-ndose"></a></dt>
<dd><p>number of tox doses to simulate</p></dd>


<dt id="arg-tox-dose-interval">tox_dose_interval<a class="anchor" aria-label="anchor" href="#arg-tox-dose-interval"></a></dt>
<dd><p>dosing interval in the tox species (time units specified with <code>&lt;B:?&gt;</code>)</p></dd>


<dt id="arg-tox-cmax-multiple">tox_Cmax_multiple<a class="anchor" aria-label="anchor" href="#arg-tox-cmax-multiple"></a></dt>
<dd><p>for each target (Cmin and AUC) the dose in the tox species will be found to cover this multiple over the projected Cmax in humans (10)</p></dd>


<dt id="arg-tox-auc-multiple">tox_AUC_multiple<a class="anchor" aria-label="anchor" href="#arg-tox-auc-multiple"></a></dt>
<dd><p>for each target (Cmin and AUC) the dose in the tox species will be found to cover this multiple over the projected AUC in humans (10)</p></dd>


<dt id="arg-tox-sample-interval">tox_sample_interval<a class="anchor" aria-label="anchor" href="#arg-tox-sample-interval"></a></dt>
<dd><p>interval to consider the AUC and Cmax for comparing the human prediction to the tox multiple</p></dd>


<dt id="arg-tox-sim-doses">tox_sim_doses<a class="anchor" aria-label="anchor" href="#arg-tox-sim-doses"></a></dt>
<dd><p>optional list of doses into <code>tox_bolus</code> to simulate (see Details below)</p></dd>


<dt id="arg-tox-sim-samples">tox_sim_samples<a class="anchor" aria-label="anchor" href="#arg-tox-sim-samples"></a></dt>
<dd><p>optional list of sample times in units specified by timescale above to label on plots of simulated doses (the default <code>NULL</code> will disable labels)</p></dd>


<dt id="arg-annotate-plots">annotate_plots<a class="anchor" aria-label="anchor" href="#arg-annotate-plots"></a></dt>
<dd><p>Boolean switch to indicate if <code>human_sim_samples</code> and <code>tox_sim_samples</code> should be labeled on  their respective plots (<code>TRUE</code>)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>cfg ubiquity system object with the scenario added if successful</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Both <code>human_sim_doses</code> and <code>tox_sim_doses</code> are lists with names
 corresponding to the label of the dose. Each element has an AMT and TIME
 element which corresponds to the dosing times and amounts in the units
 specified with <code>&lt;B:?&gt;</code> in the system file.</p>
<p>For example if you wanted to simulate four weekly doses of 20 mg to a 70 kg
 person and the units of bolus doses were days and mg/kg for the times and
 amounts you would do the following:</p>
<div class="sourceCode"><pre><code><span></span>
<span> <span class="va">human_sim_doses</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span> <span class="va">human_sim_doses</span><span class="op">[[</span><span class="st">"20 mg QW"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">TIME</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>     <span class="fl">0</span>,      <span class="fl">7</span>,     <span class="fl">14</span>,     <span class="fl">21</span><span class="op">)</span></span>
<span> <span class="va">human_sim_doses</span><span class="op">[[</span><span class="st">"20 mg QW"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">AMT</span>  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2857</span>, <span class="fl">0.2857</span>, <span class="fl">0.2857</span>, <span class="fl">0.2857</span><span class="op">)</span></span></code></pre></div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Harrold.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

