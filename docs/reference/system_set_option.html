<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Different options associated performing analyses (e.g running
simulations, performing parameter estimation, logging, etc.) can be set
with this function"><title>Setting Analysis Options — system_set_option • ubiquity</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Setting Analysis Options — system_set_option"><meta property="og:description" content="Different options associated performing analyses (e.g running
simulations, performing parameter estimation, logging, etc.) can be set
with this function"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ubiquity</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--tutorials">
    <span class="fas fa fas fa-chalkboard-teacher"></span>
     
    Tutorials
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--tutorials">
    <h6 class="dropdown-header" data-toc-skip>Getting Started</h6>
    <a class="dropdown-item" href="../articles/Simulation.html">Individual and Population Simulations</a>
    <a class="dropdown-item" href="../articles/Language.html">ubiquity Modeling Language</a>
    <a class="dropdown-item" href="../articles/Estimation.html">Naive-Pooled Parameter Estimation</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Other Analysis Options</h6>
    <a class="dropdown-item" href="../articles/Deployment.html">Deploying Your Models in a Shiny App</a>
    <a class="dropdown-item" href="../articles/Titration.html">Trial/Rule-Based Simulations</a>
    <a class="dropdown-item" href="../articles/NCA.html">Non-Compartmental Analysis</a>
    <a class="dropdown-item" href="../articles/Reporting.html">Integrated Word and PowerPoint Reporting</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--screencasts">
    <span class="fas fa fas fa-video"></span>
     
    Screencasts
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--screencasts">
    <h6 class="dropdown-header" data-toc-skip>Modeling</h6>
    <a class="external-link dropdown-item" href="https://vimeo.com/382859445">Individual and Population Simulations</a>
    <a class="external-link dropdown-item" href="https://vimeo.com/382860283">Model Deployment</a>
    <a class="external-link dropdown-item" href="https://vimeo.com/manage/videos/382829588">Naive-Pooled Parameter Estimation</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Other Tools</h6>
    <a class="external-link dropdown-item" href="https://vimeo.com/650643574">Tabula: Extracting Tabular Data from PDFs</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fas fa fas fa-hat-wizard"></span>
     
    Functions
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fas fa fas fa-rss"></span>
     
    News
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/john-harrold/ubiquity/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Setting Analysis Options</h1>
      <small class="dont-index">Source: <a href="https://github.com/john-harrold/ubiquity/blob/HEAD/R/ubiquity.R" class="external-link"><code>R/ubiquity.R</code></a></small>
      <div class="d-none name"><code>system_set_option.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Different options associated performing analyses (e.g running
simulations, performing parameter estimation, logging, etc.) can be set
with this function</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">system_set_option</span><span class="op">(</span><span class="va">cfg</span>, <span class="va">group</span>, <span class="va">option</span>, <span class="va">value</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>cfg</dt>
<dd><p>ubiquity system object</p></dd>


<dt>group</dt>
<dd><p>options are grouped together by the underlying activity being performed: "estimation",  "general", "logging", "simulation", "solver", "stochastic", or "titration"</p></dd>


<dt>option</dt>
<dd><p>for each group there are a set of options</p></dd>


<dt>value</dt>
<dd><p>corresponding value for the option</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Ubiquity system object with the option set</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><b><code>group="estimation"</code></b></p>
<p>The default estimation in R is performed using either the <code>optim</code> or <code>optimx</code> libraries.
This is selected by setting the <code>optimizer</code> option:</p> 
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                       group  <span class="op">=</span> <span class="st">"estimation"</span>,</span>
<span>                       option <span class="op">=</span> <span class="st">"optimizer"</span>,</span>
<span>                       value  <span class="op">=</span> <span class="st">"optim"</span><span class="op">)</span></span></code></pre></div>
 
<p>The optimization routine then specified using the <code>method</code>. By default this <code>option</code> is
set to <code>Nelder-Mead</code>.</p> 
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                       group  <span class="op">=</span> <span class="st">"estimation"</span>,</span>
<span>                       option <span class="op">=</span> <span class="st">"method"</span>,</span>
<span>                       value  <span class="op">=</span> <span class="st">"Nelder-Mead"</span><span class="op">)</span></span></code></pre></div>
 
<p>And different attributes are then selected using the control.</p> 
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                       group  <span class="op">=</span> <span class="st">"estimation"</span>,</span>
<span>                       option <span class="op">=</span> <span class="st">"control"</span>,</span>
<span>                       value  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>trace  <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                     maxit  <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                                     REPORT <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>

<p>For the different methods and control options, see the documentation for the <code>optim</code>
and <code>optimx</code> libraries.</p>
<p>To perform a global optimization you can install either the particle swarm (<code>pso</code>)
genetic algorithm (<code>GA</code>) libraries.
To use the particle swarm set the <code>optimizer</code> and <code>method</code>:</p> 
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                       group  <span class="op">=</span> <span class="st">"estimation"</span>,</span>
<span>                       option <span class="op">=</span> <span class="st">"optimizer"</span>,</span>
<span>                       value  <span class="op">=</span> <span class="st">"pso"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                       group  <span class="op">=</span> <span class="st">"estimation"</span>,</span>
<span>                       option <span class="op">=</span> <span class="st">"method"</span>,</span>
<span>                       value  <span class="op">=</span> <span class="st">"psoptim"</span><span class="op">)</span></span></code></pre></div>

<p>The control option is a list described <code>pso</code> documentation.</p>
<p>To use the genetic algorithm set the optimizer and method:</p>
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                       group  <span class="op">=</span> <span class="st">"estimation"</span>,</span>
<span>                       option <span class="op">=</span> <span class="st">"optimizer"</span>,</span>
<span>                       value  <span class="op">=</span> <span class="st">"ga"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                       group  <span class="op">=</span> <span class="st">"estimation"</span>,</span>
<span>                       option <span class="op">=</span> <span class="st">"method"</span>,</span>
<span>                       value  <span class="op">=</span> <span class="st">"ga"</span><span class="op">)</span></span></code></pre></div>

<p>The control option is a list and the list elements are the named options in the GA
documentation. Use the following as an example:</p>
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                       group  <span class="op">=</span> <span class="st">"estimation"</span>,</span>
<span>                       option <span class="op">=</span> <span class="st">"control"</span>,</span>
<span>                       value  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxiter  <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>                                    optimArgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>                                      method  <span class="op">=</span> <span class="st">"Nelder-Mead"</span>,</span>
<span>                                      maxiter <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>

<p>To alter initial guesses see: <code><a href="system_set_guess.html">system_set_guess</a></code></p>
<p>When performing parameter estimation, the internal function
<code>system_od_general</code> is used. This is the function that simulates your
system at the conditions defined for the different cohorts. This is pretty
flexible but if you want to go beyond this you can set the
<code>observation_function</code> option:</p>
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                       group  <span class="op">=</span> <span class="st">"estimation"</span>,</span>
<span>                       option <span class="op">=</span> <span class="st">"observation_function"</span>,</span>
<span>                       value  <span class="op">=</span> <span class="st">"my_od"</span><span class="op">)</span></span></code></pre></div>

<p>That will instruct the optimziation routines to use the user defined
function <code>my_od</code>. You will need to construct that function to have the
same input/output format as <code><a href="system_od_general.html">system_od_general</a></code>.</p>
<p><b><code>group=general</code></b></p>
<ul><li><p><code>"output_directory"</code>   = String where analysis outputs will be
    placed. Generally you wont want to change this, but it can be useful in Shiny
    apps where you need to have each shiny user generate output in that
    users directory : <code>file.path(".", "output")</code></p></li>
</ul><p><b><code>group=logging</code></b></p>
<p>By default ubiquity prints different information to the console and logs this
information to a log file. The following options can be used to control
this behavior:</p>
<ul><li><p><code>"enabled"</code>   = Boolean variable to control logging: <code>TRUE</code></p></li>
<li><p><code>"file"</code>      = String containing the name of the log file: <code>file.path("transient", "ubiquity_log.txt")</code></p></li>
<li><p><code>"timestamp"</code> = Boolean switch to control appending a time stamp to log entries: <code>TRUE</code></p></li>
<li><p><code>"ts_str"</code>    = String format of timestamp: "<!-- %Y-%m-%d %H:%M:%S" --></p></li>
<li><p><code>"debug"</code>     = Boolean switch to control debugging (see below): <code>FALSE</code></p></li>
<li><p><code>"verbose"</code>   = Boolean switch to control printing to the console <code>FALSE</code></p></li>
</ul><p>To enable debugging of different functions (like when performing esitmation), 
set the <code>debug</code> option to <code>TRUE</code>. Important function calls will be 
trapped and information will be logged and reported to the console.</p>
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                       group  <span class="op">=</span> <span class="st">"estimation"</span>,</span>
<span>                       option <span class="op">=</span> <span class="st">"debug"</span>,</span>
<span>                       value  <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>

<p><b><code>group="simulation"</code></b></p><ul><li><p><code>"include_important_output_times"</code> - Automatically add bolus, infusion rate switching times, etc: <code>"yes"</code>(default), <code>"no"</code>.</p></li>
<li><p><code>"integrate_with"</code> - Specify if the ODE solver should use the Rscript (<code>"r-file"</code>) or compiled C (<code>"c-file"</code>), if the build process can compile and load the C version it will be the default otherwise it will switch over to the R script.</p></li>
<li><p><code>"output_times"</code> - Vector of times to evaulate the simulation (default <code>seq(0,100,1)</code>).</p></li>
<li><p><code>"solver"</code> - Selects the ODE solver: <code>"lsoda"</code> (default), <code>"lsode"</code>, <code>"vode"</code>, etc.; see the documentation for <code><a href="https://rdrr.io/pkg/deSolve/man/deSolve.html" class="external-link">deSolve</a></code> for an exhaustive list.</p></li>
<li><p><code>"sample_bolus_delta"</code> - Spacing used when sampling around bolus events (default <code>1e-6</code>).</p></li>
<li><p><code>"sample_forcing_delta"</code> - Spacing used when sampling around forcing functions (infusion rates, covariates, etc) (default <code>1e-3</code>).</p></li>
</ul><p><b><code>group=solver</code></b></p>
<p>Depending on the solver, different options can be set. The documentation
for  <code><a href="https://rdrr.io/pkg/deSolve/man/deSolve.html" class="external-link">deSolve</a></code> lists the different solvers. For a full list of options, see the
documentation for the specific solver (e.g. <code>?lsoda</code>). Some common options
to consider are:</p><ul><li><p><code>"atol"</code> - Relative error tolerance</p></li>
<li><p><code>"rtol"</code> - Absolute error tolerance</p></li>
<li><p><code>"hmin"</code> - Minimum integration step size</p></li>
<li><p><code>"hmax"</code> - Maximum integration step size</p></li>
</ul><p>To select the <code>vode</code> solver and set the maximum step size to 0.01, the
following would be used:</p><div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span><span class="op">=</span><span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>,</span>
<span>                     group  <span class="op">=</span> <span class="st">"simulation"</span>,</span>
<span>                     option <span class="op">=</span> <span class="st">"solver"</span>, </span>
<span>                     value  <span class="op">=</span> <span class="st">"vode"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cfg</span><span class="op">=</span><span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>,</span>
<span>                     group  <span class="op">=</span> <span class="st">"solver"</span>,</span>
<span>                     option <span class="op">=</span> <span class="st">"hmax"</span>, </span>
<span>                     value  <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span></code></pre></div>

<p><b><code>group="stochastic"</code></b></p>
<p>When running stochastic simulations (inter-individual variability applied to system
parameters) it can be useful to specify the following:</p><ul><li><p><code>"ci"</code> - Confidence interval (default <code>95</code>)</p></li>
<li><p><code>"nsub"</code> - Number of subjects (default <code>100</code>)</p></li>
<li><p><code>"seed"</code> - Seed for the random numebr generator (default <code>8675309</code>)</p></li>
<li><p><code>"ponly"</code> - Only generate the subject parameters but do not run the simulations (default <code>FALSE</code>)</p></li>
<li><p><code>"ssp"</code> - A list of the calculated static secondary parameters to include (default all parameters defined by <code>&lt;As&gt;</code>)</p></li>
<li><p><code>"outputs"</code> - A list of the predicted outputs to include (default all outputs defined by <code>&lt;O&gt;</code>)</p></li>
<li><p><code>"states"</code> - A list of the predicted states to include(default all states)</p></li>
<li><p><code>"sub_file"</code> - Name of data set loaded with (<code><a href="system_load_data.html">system_load_data</a></code>) containing subject level parameters and coviariates</p></li>
<li><p><code>"sub_file_sample"</code> - Controls how subjects are sampled from the dataset</p></li>
</ul><p>If you wanted to generate <code>1000</code> subjects but only wanted the parameters, you would
use the following:</p><div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>,</span>
<span>                       group  <span class="op">=</span> <span class="st">"stochastic"</span>, </span>
<span>                       option <span class="op">=</span> <span class="st">"nsub "</span>,</span>
<span>                       value  <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>,</span>
<span>                       group  <span class="op">=</span> <span class="st">"stochastic"</span>, </span>
<span>                       option <span class="op">=</span> <span class="st">"ponly"</span>,</span>
<span>                       value  <span class="op">=</span> <span class="cn">TRUE</span> <span class="op">)</span></span></code></pre></div>


<p>If you wanted to exclude both states and secondary parameters, while only including 
the output <code>Cp_nM</code>, you would do the following:</p><div class="sourceCode"><pre><code><span></span>
<span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span> <span class="op">(</span><span class="va">cfg</span>, </span>
<span>                        group  <span class="op">=</span> <span class="st">"stochastic"</span>,</span>
<span>                        option <span class="op">=</span> <span class="st">"ssp"</span>,</span>
<span>                        value  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span> <span class="op">(</span><span class="va">cfg</span>, </span>
<span>                        group  <span class="op">=</span> <span class="st">"stochastic"</span>,</span>
<span>                        option <span class="op">=</span> <span class="st">"states"</span>,</span>
<span>                        value  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cfg</span> <span class="op">=</span> <span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span> <span class="op">(</span><span class="va">cfg</span>, </span>
<span>                        group  <span class="op">=</span> <span class="st">"stochastic"</span>,</span>
<span>                        option <span class="op">=</span> <span class="st">"outputs"</span>,</span>
<span>                        value  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Cp_nM"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>

<p>To pull subject information from a data file instead of generating the subject
parameters from IIV information the <code>sub_file</code> option can be used. The value here
<code>SUBFILE_NAME</code> is the name given to a dataset loaded with
(<code><a href="system_load_data.html">system_load_data</a></code>):</p>
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span><span class="op">=</span><span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                     group  <span class="op">=</span> <span class="st">"stochastic"</span>,</span>
<span>                     option <span class="op">=</span> <span class="st">"sub_file"</span>,</span>
<span>                     value  <span class="op">=</span> <span class="st">"SUBFILE_NAME"</span><span class="op">)</span></span></code></pre></div>
 
<p>Sampling from the dataset can be controlled using the <code>sub_file_sample</code> option:</p> 
<div class="sourceCode"><pre><code><span></span>
<span><span class="va">cfg</span><span class="op">=</span><span class="fu"><a href="../reference/system_set_option.html">system_set_option</a></span><span class="op">(</span><span class="va">cfg</span>, </span>
<span>                     group  <span class="op">=</span> <span class="st">"stochastic"</span>,</span>
<span>                     option <span class="op">=</span> <span class="st">"sub_file_sample"</span>,</span>
<span>                     value  <span class="op">=</span> <span class="st">"with replacement"</span><span class="op">)</span></span></code></pre></div>
 
<p>Sampling can be done sequentially (<code>"sequential"</code>), with replacement
(<code>"with replacement"</code>), or without replacement (<code>"without replacement"</code>)</p>
<p><b><code>group="titration"</code></b></p>
<p><code>"titrate"</code> - By default titration is disable (set to <code>FALSE</code>). If you are
going to use titration, enable it here by setting this option to <code>TRUE</code>.
This will force #' <code><a href="simulate_subjects.html">simulate_subjects</a></code> to use 
<code><a href="run_simulation_titrate.html">run_simulation_titrate</a></code> internally when running simulations.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by John Harrold.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

